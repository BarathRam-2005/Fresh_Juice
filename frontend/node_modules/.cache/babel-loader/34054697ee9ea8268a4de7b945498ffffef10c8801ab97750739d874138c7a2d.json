{"ast":null,"code":"var _jsxFileName = \"D:\\\\SEM V\\\\Intenship Project\\\\fresh-juice-app\\\\frontend\\\\src\\\\pages\\\\TrackOrder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport OrderTracker from '../components/OrderTracker';\nimport { api } from '../services/api';\nimport './TrackOrder.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrackOrder = () => {\n  _s();\n  var _order$_id, _order$total;\n  const [currentStage, setCurrentStage] = useState(0);\n  const [order, setOrder] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [timeElapsed, setTimeElapsed] = useState(0);\n  const [deliveryPerson, setDeliveryPerson] = useState(null);\n  const [user, setUser] = useState(null);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Get user from localStorage\n  useEffect(() => {\n    const savedUser = localStorage.getItem('rypeUser');\n    if (savedUser) {\n      try {\n        const userData = JSON.parse(savedUser);\n        setUser(userData);\n        console.log('User loaded:', userData);\n      } catch (e) {\n        console.error('Error parsing user data:', e);\n      }\n    } else {\n      console.log('No user found in localStorage');\n      setLoading(false);\n    }\n  }, []);\n\n  // Save order to localStorage whenever it changes\n  useEffect(() => {\n    if (order) {\n      localStorage.setItem('rypeCurrentOrder', JSON.stringify({\n        order,\n        timestamp: new Date().toISOString(),\n        timeElapsed,\n        currentStage\n      }));\n      console.log('Order saved to localStorage');\n    }\n  }, [order, timeElapsed, currentStage]);\n\n  // Load order from localStorage or location state\n  useEffect(() => {\n    var _location$state;\n    console.log('Location state:', location.state);\n\n    // First, check if we have a new order from location state\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.order) {\n      console.log('New order received from location state');\n      const newOrder = location.state.order;\n      setOrder(newOrder);\n      setTimeElapsed(0);\n      setCurrentStage(0);\n\n      // Clear any old order from localStorage and set new one\n      localStorage.setItem('rypeCurrentOrder', JSON.stringify({\n        order: newOrder,\n        timestamp: new Date().toISOString(),\n        timeElapsed: 0,\n        currentStage: 0\n      }));\n      setLoading(false);\n      return;\n    }\n\n    // If no location state, check localStorage for existing order\n    const savedOrderData = localStorage.getItem('rypeCurrentOrder');\n    if (savedOrderData) {\n      try {\n        const orderData = JSON.parse(savedOrderData);\n        console.log('Found saved order in localStorage:', orderData);\n\n        // Check if the order is still valid (less than 15 minutes old)\n        const savedTime = new Date(orderData.timestamp);\n        const currentTime = new Date();\n        const minutesSinceSaved = Math.floor((currentTime - savedTime) / (1000 * 60));\n        if (minutesSinceSaved < 15) {\n          // Keep order for 15 minutes\n          console.log('Order is still valid, loading from localStorage');\n          setOrder(orderData.order);\n          setTimeElapsed(orderData.timeElapsed + minutesSinceSaved); // Add elapsed time since last save\n          setCurrentStage(orderData.currentStage);\n        } else {\n          console.log('Order is too old, clearing from localStorage');\n          localStorage.removeItem('rypeCurrentOrder');\n        }\n      } catch (e) {\n        console.error('Error parsing saved order data:', e);\n        localStorage.removeItem('rypeCurrentOrder');\n      }\n    }\n    setLoading(false);\n  }, [location.state]);\n\n  // Fetch user's latest order from API only if no order from localStorage or location state\n  useEffect(() => {\n    const fetchLatestOrder = async () => {\n      if (!user || order) {\n        // Don't fetch if we already have an order\n        return;\n      }\n      try {\n        console.log('Fetching latest order from API for user:', user.id);\n        const ordersResponse = await api.getUserOrders();\n        console.log('Orders API response:', ordersResponse);\n        if (ordersResponse.success && Array.isArray(ordersResponse.orders) && ordersResponse.orders.length > 0) {\n          // Get the most recent order\n          const latestOrder = ordersResponse.orders[0];\n          console.log('Latest order found from API:', latestOrder);\n\n          // Check if this order is recent (within 15 minutes)\n          const orderTime = new Date(latestOrder.createdAt);\n          const currentTime = new Date();\n          const minutesSinceOrder = Math.floor((currentTime - orderTime) / (1000 * 60));\n          if (minutesSinceOrder < 15) {\n            setOrder(latestOrder);\n            setTimeElapsed(minutesSinceOrder);\n\n            // Set initial stage based on order status and time\n            const stage = calculateStageBasedOnTime(minutesSinceOrder, latestOrder.status);\n            setCurrentStage(stage);\n\n            // Save to localStorage\n            localStorage.setItem('rypeCurrentOrder', JSON.stringify({\n              order: latestOrder,\n              timestamp: new Date().toISOString(),\n              timeElapsed: minutesSinceOrder,\n              currentStage: stage\n            }));\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching order from API:', error);\n      }\n    };\n    if (user && !order && !loading) {\n      fetchLatestOrder();\n    }\n  }, [user, order, loading]);\n\n  // Calculate stage based on time and status\n  const calculateStageBasedOnTime = (minutes, status) => {\n    const statusToStage = {\n      'pending': 0,\n      'preparing': 1,\n      'quality-check': 2,\n      'out-for-delivery': 3,\n      'delivered': 4\n    };\n\n    // If we have a status, use it\n    if (status && statusToStage[status] !== undefined) {\n      return statusToStage[status];\n    }\n\n    // Otherwise calculate based on time\n    if (minutes >= 15) return 4; // Delivered\n    if (minutes >= 8) return 3; // Out for delivery\n    if (minutes >= 5) return 2; // Quality check\n    if (minutes >= 2) return 1; // Preparing\n    return 0; // Order placed\n  };\n\n  // Simulate order progress\n  useEffect(() => {\n    if (!order) return;\n    const interval = setInterval(() => {\n      setTimeElapsed(prev => {\n        const newTime = prev + 1;\n        console.log(`Time elapsed: ${newTime} minutes, Current stage: ${currentStage}`);\n\n        // Auto-progress through stages based on time\n        if (newTime >= 2 && currentStage < 1) {\n          setCurrentStage(1); // Move to preparing\n        } else if (newTime >= 5 && currentStage < 2) {\n          setCurrentStage(2); // Move to quality check\n        } else if (newTime >= 8 && currentStage < 3) {\n          setCurrentStage(3); // Move to out for delivery\n        } else if (newTime >= 15 && currentStage < 4) {\n          setCurrentStage(4); // Move to delivered\n\n          // Clear order from localStorage after 15 minutes when delivered\n          setTimeout(() => {\n            localStorage.removeItem('rypeCurrentOrder');\n            console.log('Order cleared from localStorage after completion');\n          }, 5000); // Clear 5 seconds after delivery\n        }\n\n        // Simulate delivery person assignment\n        if (currentStage >= 3 && !deliveryPerson) {\n          setDeliveryPerson({\n            name: 'Raj Kumar',\n            rating: 4.8,\n            vehicle: '🚴 Bicycle',\n            phone: '+91 98765 43210',\n            location: '1.2 km away',\n            eta: `${Math.max(1, 25 - newTime)} minutes`\n          });\n        }\n        return newTime;\n      });\n    }, 60000); // Update every minute\n\n    return () => clearInterval(interval);\n  }, [order, deliveryPerson, currentStage]);\n\n  // Clear order after 15 minutes (safety mechanism)\n  useEffect(() => {\n    if (timeElapsed >= 15) {\n      const timer = setTimeout(() => {\n        console.log('Auto-clearing order after 15 minutes');\n        localStorage.removeItem('rypeCurrentOrder');\n        setOrder(null);\n      }, 300000); // 5 minutes after delivery (20 minutes total)\n\n      return () => clearTimeout(timer);\n    }\n  }, [timeElapsed]);\n\n  // Debug: Log current state\n  useEffect(() => {\n    var _location$state2;\n    console.log('Current TrackOrder state:', {\n      user: !!user,\n      order: !!order,\n      loading,\n      timeElapsed,\n      currentStage,\n      hasLocationState: !!((_location$state2 = location.state) !== null && _location$state2 !== void 0 && _location$state2.order)\n    });\n  }, [user, order, loading, timeElapsed, currentStage, location.state]);\n\n  // Clear current order (manual function)\n  const clearCurrentOrder = () => {\n    localStorage.removeItem('rypeCurrentOrder');\n    setOrder(null);\n    setTimeElapsed(0);\n    setCurrentStage(0);\n    setDeliveryPerson(null);\n    console.log('Order manually cleared');\n  };\n\n  // Redirect to menu if no user\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"track-order-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDD10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Please Login to Track Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You need to be logged in to view your order tracking information.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          onClick: () => navigate('/'),\n          children: \"Go to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"track-order-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading your order details...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this);\n  }\n  if (!order) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"track-order-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDCE6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"No Active Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You haven't placed any orders recently, or your previous order has been completed.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: () => navigate('/menu'),\n            children: \"Order Fresh Juices\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => navigate('/history'),\n            children: \"View Order History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this);\n  }\n  const orderStages = [{\n    id: 1,\n    name: \"Order Placed\",\n    description: \"We've received your order and payment\",\n    icon: \"📝\",\n    time: \"Just now\"\n  }, {\n    id: 2,\n    name: \"Preparing\",\n    description: \"Squeezing fresh fruits and preparing your juices\",\n    icon: \"👨‍🍳\",\n    time: \"3-5 minutes\"\n  }, {\n    id: 3,\n    name: \"Quality Check\",\n    description: \"Ensuring perfect taste and freshness\",\n    icon: \"🔍\",\n    time: \"2-3 minutes\"\n  }, {\n    id: 4,\n    name: \"Out for Delivery\",\n    description: \"Your juices are on the way!\",\n    icon: \"🚚\",\n    time: \"10-15 minutes\"\n  }, {\n    id: 5,\n    name: \"Delivered\",\n    description: \"Enjoy your fresh juices!\",\n    icon: \"✅\",\n    time: \"Arrived\"\n  }];\n  const progressPercentage = Math.min(timeElapsed / 15 * 100, 100);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"track-order-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Track Your Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Order #\", ((_order$_id = order._id) === null || _order$_id === void 0 ? void 0 : _order$_id.substring(18)) || order.id, \" \\u2022 Placed \", new Date(order.createdAt).toLocaleTimeString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"clear-order-btn\",\n        onClick: clearCurrentOrder,\n        title: \"Clear this order\",\n        children: \"\\uD83D\\uDDD1\\uFE0F Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Delivery Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"time-elapsed\",\n          children: [timeElapsed, \" min elapsed\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            width: `${progressPercentage}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-labels\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Ordered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Estimated: \", order.estimatedDelivery ? new Date(order.estimatedDelivery).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          }) : '15-20 minutes']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OrderTracker, {\n      currentStage: currentStage,\n      orderStages: orderStages,\n      timeElapsed: timeElapsed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this), deliveryPerson && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"delivery-person-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDEF5 Your Delivery Partner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delivery-person-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"person-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-avatar\",\n            children: deliveryPerson.name.split(' ').map(n => n[0]).join('')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: deliveryPerson.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u2B50 \", deliveryPerson.rating, \" \\u2022 \", deliveryPerson.vehicle]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"location\",\n              children: [\"\\uD83D\\uDCCD \", deliveryPerson.location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"ETA: \", deliveryPerson.eta]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delivery-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            children: \"\\uD83D\\uDCDE Call\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            children: \"\\uD83D\\uDCAC Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-details-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Your Order Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-items-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Items Ordered:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), order.items && order.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"item-image\",\n              children: item.image || '🍊'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: item.name || 'Fresh Juice'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Quantity: \", item.quantity || 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"item-price\",\n            children: [\"\\u20B9\", ((item.price || 0) * (item.quantity || 1)).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-total\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"Total: \\u20B9\", ((_order$total = order.total) === null || _order$total === void 0 ? void 0 : _order$total.toFixed(2)) || '0.00']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delivery-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Delivery Information:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCE6 Delivery Address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: order.address || user.address || 'Address not specified'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDC64 Customer:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCDE Contact:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: user.phone || 'Not provided'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u23F0 Ordered at:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: new Date(order.createdAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCB3 Payment Method:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: order.paymentMethod || 'Card'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u23F1\\uFE0F Time Elapsed:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [timeElapsed, \" minutes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"track-order-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary\",\n        onClick: () => navigate('/menu'),\n        children: \"Order More Juices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-secondary\",\n        onClick: () => navigate('/history'),\n        children: \"View Order History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-secondary\",\n        onClick: clearCurrentOrder,\n        children: \"Clear This Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 5\n  }, this);\n};\n_s(TrackOrder, \"NudbxY+4LXlztXh6Tb2+T8vJh4c=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = TrackOrder;\nexport default TrackOrder;\nvar _c;\n$RefreshReg$(_c, \"TrackOrder\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","OrderTracker","api","jsxDEV","_jsxDEV","TrackOrder","_s","_order$_id","_order$total","currentStage","setCurrentStage","order","setOrder","loading","setLoading","timeElapsed","setTimeElapsed","deliveryPerson","setDeliveryPerson","user","setUser","navigate","location","savedUser","localStorage","getItem","userData","JSON","parse","console","log","e","error","setItem","stringify","timestamp","Date","toISOString","_location$state","state","newOrder","savedOrderData","orderData","savedTime","currentTime","minutesSinceSaved","Math","floor","removeItem","fetchLatestOrder","id","ordersResponse","getUserOrders","success","Array","isArray","orders","length","latestOrder","orderTime","createdAt","minutesSinceOrder","stage","calculateStageBasedOnTime","status","minutes","statusToStage","undefined","interval","setInterval","prev","newTime","setTimeout","name","rating","vehicle","phone","eta","max","clearInterval","timer","clearTimeout","_location$state2","hasLocationState","clearCurrentOrder","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","orderStages","description","icon","time","progressPercentage","min","_id","substring","toLocaleTimeString","title","style","width","estimatedDelivery","hour","minute","split","map","n","join","items","item","index","image","quantity","price","toFixed","total","address","toLocaleString","paymentMethod","_c","$RefreshReg$"],"sources":["D:/SEM V/Intenship Project/fresh-juice-app/frontend/src/pages/TrackOrder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport OrderTracker from '../components/OrderTracker';\r\nimport { api } from '../services/api';\r\nimport './TrackOrder.css';\r\n\r\nconst TrackOrder = () => {\r\n  const [currentStage, setCurrentStage] = useState(0);\r\n  const [order, setOrder] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [timeElapsed, setTimeElapsed] = useState(0);\r\n  const [deliveryPerson, setDeliveryPerson] = useState(null);\r\n  const [user, setUser] = useState(null);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // Get user from localStorage\r\n  useEffect(() => {\r\n    const savedUser = localStorage.getItem('rypeUser');\r\n    if (savedUser) {\r\n      try {\r\n        const userData = JSON.parse(savedUser);\r\n        setUser(userData);\r\n        console.log('User loaded:', userData);\r\n      } catch (e) {\r\n        console.error('Error parsing user data:', e);\r\n      }\r\n    } else {\r\n      console.log('No user found in localStorage');\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Save order to localStorage whenever it changes\r\n  useEffect(() => {\r\n    if (order) {\r\n      localStorage.setItem('rypeCurrentOrder', JSON.stringify({\r\n        order,\r\n        timestamp: new Date().toISOString(),\r\n        timeElapsed,\r\n        currentStage\r\n      }));\r\n      console.log('Order saved to localStorage');\r\n    }\r\n  }, [order, timeElapsed, currentStage]);\r\n\r\n  // Load order from localStorage or location state\r\n  useEffect(() => {\r\n    console.log('Location state:', location.state);\r\n    \r\n    // First, check if we have a new order from location state\r\n    if (location.state?.order) {\r\n      console.log('New order received from location state');\r\n      const newOrder = location.state.order;\r\n      setOrder(newOrder);\r\n      setTimeElapsed(0);\r\n      setCurrentStage(0);\r\n      \r\n      // Clear any old order from localStorage and set new one\r\n      localStorage.setItem('rypeCurrentOrder', JSON.stringify({\r\n        order: newOrder,\r\n        timestamp: new Date().toISOString(),\r\n        timeElapsed: 0,\r\n        currentStage: 0\r\n      }));\r\n      \r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // If no location state, check localStorage for existing order\r\n    const savedOrderData = localStorage.getItem('rypeCurrentOrder');\r\n    if (savedOrderData) {\r\n      try {\r\n        const orderData = JSON.parse(savedOrderData);\r\n        console.log('Found saved order in localStorage:', orderData);\r\n        \r\n        // Check if the order is still valid (less than 15 minutes old)\r\n        const savedTime = new Date(orderData.timestamp);\r\n        const currentTime = new Date();\r\n        const minutesSinceSaved = Math.floor((currentTime - savedTime) / (1000 * 60));\r\n        \r\n        if (minutesSinceSaved < 15) { // Keep order for 15 minutes\r\n          console.log('Order is still valid, loading from localStorage');\r\n          setOrder(orderData.order);\r\n          setTimeElapsed(orderData.timeElapsed + minutesSinceSaved); // Add elapsed time since last save\r\n          setCurrentStage(orderData.currentStage);\r\n        } else {\r\n          console.log('Order is too old, clearing from localStorage');\r\n          localStorage.removeItem('rypeCurrentOrder');\r\n        }\r\n      } catch (e) {\r\n        console.error('Error parsing saved order data:', e);\r\n        localStorage.removeItem('rypeCurrentOrder');\r\n      }\r\n    }\r\n    \r\n    setLoading(false);\r\n  }, [location.state]);\r\n\r\n  // Fetch user's latest order from API only if no order from localStorage or location state\r\n  useEffect(() => {\r\n    const fetchLatestOrder = async () => {\r\n      if (!user || order) { // Don't fetch if we already have an order\r\n        return;\r\n      }\r\n\r\n      try {\r\n        console.log('Fetching latest order from API for user:', user.id);\r\n        const ordersResponse = await api.getUserOrders();\r\n        console.log('Orders API response:', ordersResponse);\r\n        \r\n        if (ordersResponse.success && Array.isArray(ordersResponse.orders) && ordersResponse.orders.length > 0) {\r\n          // Get the most recent order\r\n          const latestOrder = ordersResponse.orders[0];\r\n          console.log('Latest order found from API:', latestOrder);\r\n          \r\n          // Check if this order is recent (within 15 minutes)\r\n          const orderTime = new Date(latestOrder.createdAt);\r\n          const currentTime = new Date();\r\n          const minutesSinceOrder = Math.floor((currentTime - orderTime) / (1000 * 60));\r\n          \r\n          if (minutesSinceOrder < 15) {\r\n            setOrder(latestOrder);\r\n            setTimeElapsed(minutesSinceOrder);\r\n            \r\n            // Set initial stage based on order status and time\r\n            const stage = calculateStageBasedOnTime(minutesSinceOrder, latestOrder.status);\r\n            setCurrentStage(stage);\r\n            \r\n            // Save to localStorage\r\n            localStorage.setItem('rypeCurrentOrder', JSON.stringify({\r\n              order: latestOrder,\r\n              timestamp: new Date().toISOString(),\r\n              timeElapsed: minutesSinceOrder,\r\n              currentStage: stage\r\n            }));\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching order from API:', error);\r\n      }\r\n    };\r\n\r\n    if (user && !order && !loading) {\r\n      fetchLatestOrder();\r\n    }\r\n  }, [user, order, loading]);\r\n\r\n  // Calculate stage based on time and status\r\n  const calculateStageBasedOnTime = (minutes, status) => {\r\n    const statusToStage = {\r\n      'pending': 0,\r\n      'preparing': 1,\r\n      'quality-check': 2,\r\n      'out-for-delivery': 3,\r\n      'delivered': 4\r\n    };\r\n    \r\n    // If we have a status, use it\r\n    if (status && statusToStage[status] !== undefined) {\r\n      return statusToStage[status];\r\n    }\r\n    \r\n    // Otherwise calculate based on time\r\n    if (minutes >= 15) return 4; // Delivered\r\n    if (minutes >= 8) return 3;  // Out for delivery\r\n    if (minutes >= 5) return 2;  // Quality check\r\n    if (minutes >= 2) return 1;  // Preparing\r\n    return 0; // Order placed\r\n  };\r\n\r\n  // Simulate order progress\r\n  useEffect(() => {\r\n    if (!order) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setTimeElapsed(prev => {\r\n        const newTime = prev + 1;\r\n        console.log(`Time elapsed: ${newTime} minutes, Current stage: ${currentStage}`);\r\n        \r\n        // Auto-progress through stages based on time\r\n        if (newTime >= 2 && currentStage < 1) {\r\n          setCurrentStage(1); // Move to preparing\r\n        } else if (newTime >= 5 && currentStage < 2) {\r\n          setCurrentStage(2); // Move to quality check\r\n        } else if (newTime >= 8 && currentStage < 3) {\r\n          setCurrentStage(3); // Move to out for delivery\r\n        } else if (newTime >= 15 && currentStage < 4) {\r\n          setCurrentStage(4); // Move to delivered\r\n          \r\n          // Clear order from localStorage after 15 minutes when delivered\r\n          setTimeout(() => {\r\n            localStorage.removeItem('rypeCurrentOrder');\r\n            console.log('Order cleared from localStorage after completion');\r\n          }, 5000); // Clear 5 seconds after delivery\r\n        }\r\n\r\n        // Simulate delivery person assignment\r\n        if (currentStage >= 3 && !deliveryPerson) {\r\n          setDeliveryPerson({\r\n            name: 'Raj Kumar',\r\n            rating: 4.8,\r\n            vehicle: '🚴 Bicycle',\r\n            phone: '+91 98765 43210',\r\n            location: '1.2 km away',\r\n            eta: `${Math.max(1, 25 - newTime)} minutes`\r\n          });\r\n        }\r\n\r\n        return newTime;\r\n      });\r\n    }, 60000); // Update every minute\r\n\r\n    return () => clearInterval(interval);\r\n  }, [order, deliveryPerson, currentStage]);\r\n\r\n  // Clear order after 15 minutes (safety mechanism)\r\n  useEffect(() => {\r\n    if (timeElapsed >= 15) {\r\n      const timer = setTimeout(() => {\r\n        console.log('Auto-clearing order after 15 minutes');\r\n        localStorage.removeItem('rypeCurrentOrder');\r\n        setOrder(null);\r\n      }, 300000); // 5 minutes after delivery (20 minutes total)\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [timeElapsed]);\r\n\r\n  // Debug: Log current state\r\n  useEffect(() => {\r\n    console.log('Current TrackOrder state:', {\r\n      user: !!user,\r\n      order: !!order,\r\n      loading,\r\n      timeElapsed,\r\n      currentStage,\r\n      hasLocationState: !!location.state?.order\r\n    });\r\n  }, [user, order, loading, timeElapsed, currentStage, location.state]);\r\n\r\n  // Clear current order (manual function)\r\n  const clearCurrentOrder = () => {\r\n    localStorage.removeItem('rypeCurrentOrder');\r\n    setOrder(null);\r\n    setTimeElapsed(0);\r\n    setCurrentStage(0);\r\n    setDeliveryPerson(null);\r\n    console.log('Order manually cleared');\r\n  };\r\n\r\n  // Redirect to menu if no user\r\n  if (!user) {\r\n    return (\r\n      <div className=\"track-order-page\">\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">🔐</div>\r\n          <h2>Please Login to Track Orders</h2>\r\n          <p>You need to be logged in to view your order tracking information.</p>\r\n          <button \r\n            className=\"btn-primary\"\r\n            onClick={() => navigate('/')}\r\n          >\r\n            Go to Home\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"track-order-page\">\r\n        <div className=\"loading\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Loading your order details...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!order) {\r\n    return (\r\n      <div className=\"track-order-page\">\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">📦</div>\r\n          <h2>No Active Orders</h2>\r\n          <p>You haven't placed any orders recently, or your previous order has been completed.</p>\r\n          <div className=\"empty-actions\">\r\n            <button \r\n              className=\"btn-primary\"\r\n              onClick={() => navigate('/menu')}\r\n            >\r\n              Order Fresh Juices\r\n            </button>\r\n            <button \r\n              className=\"btn-secondary\"\r\n              onClick={() => navigate('/history')}\r\n            >\r\n              View Order History\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const orderStages = [\r\n    { \r\n      id: 1, \r\n      name: \"Order Placed\", \r\n      description: \"We've received your order and payment\",\r\n      icon: \"📝\",\r\n      time: \"Just now\"\r\n    },\r\n    { \r\n      id: 2, \r\n      name: \"Preparing\", \r\n      description: \"Squeezing fresh fruits and preparing your juices\",\r\n      icon: \"👨‍🍳\",\r\n      time: \"3-5 minutes\"\r\n    },\r\n    { \r\n      id: 3, \r\n      name: \"Quality Check\", \r\n      description: \"Ensuring perfect taste and freshness\",\r\n      icon: \"🔍\",\r\n      time: \"2-3 minutes\"\r\n    },\r\n    { \r\n      id: 4, \r\n      name: \"Out for Delivery\", \r\n      description: \"Your juices are on the way!\",\r\n      icon: \"🚚\",\r\n      time: \"10-15 minutes\"\r\n    },\r\n    { \r\n      id: 5, \r\n      name: \"Delivered\", \r\n      description: \"Enjoy your fresh juices!\",\r\n      icon: \"✅\",\r\n      time: \"Arrived\"\r\n    }\r\n  ];\r\n\r\n  const progressPercentage = Math.min((timeElapsed / 15) * 100, 100);\r\n\r\n  return (\r\n    <div className=\"track-order-page\">\r\n      <div className=\"page-header\">\r\n        <h1>Track Your Order</h1>\r\n        <p>Order #{order._id?.substring(18) || order.id} • Placed {new Date(order.createdAt).toLocaleTimeString()}</p>\r\n        <button \r\n          className=\"clear-order-btn\"\r\n          onClick={clearCurrentOrder}\r\n          title=\"Clear this order\"\r\n        >\r\n          🗑️ Clear\r\n        </button>\r\n      </div>\r\n\r\n      {/* Progress Bar */}\r\n      <div className=\"progress-section\">\r\n        <div className=\"progress-header\">\r\n          <h3>Delivery Progress</h3>\r\n          <span className=\"time-elapsed\">{timeElapsed} min elapsed</span>\r\n        </div>\r\n        <div className=\"progress-bar-container\">\r\n          <div \r\n            className=\"progress-bar\" \r\n            style={{ width: `${progressPercentage}%` }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"progress-labels\">\r\n          <span>Ordered</span>\r\n          <span>Estimated: {order.estimatedDelivery ? new Date(order.estimatedDelivery).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) : '15-20 minutes'}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Order Tracker */}\r\n      <OrderTracker \r\n        currentStage={currentStage}\r\n        orderStages={orderStages}\r\n        timeElapsed={timeElapsed}\r\n      />\r\n\r\n      {/* Delivery Person Info */}\r\n      {deliveryPerson && (\r\n        <div className=\"delivery-person-card\">\r\n          <h3>🛵 Your Delivery Partner</h3>\r\n          <div className=\"delivery-person-info\">\r\n            <div className=\"person-details\">\r\n              <div className=\"person-avatar\">{deliveryPerson.name.split(' ').map(n => n[0]).join('')}</div>\r\n              <div>\r\n                <h4>{deliveryPerson.name}</h4>\r\n                <p>⭐ {deliveryPerson.rating} • {deliveryPerson.vehicle}</p>\r\n                <p className=\"location\">📍 {deliveryPerson.location}</p>\r\n                <p>ETA: {deliveryPerson.eta}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"delivery-actions\">\r\n              <button className=\"btn-secondary\">📞 Call</button>\r\n              <button className=\"btn-secondary\">💬 Message</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Order Details */}\r\n      <div className=\"order-details-card\">\r\n        <h3>Your Order Details</h3>\r\n        \r\n        <div className=\"order-items-list\">\r\n          <h4>Items Ordered:</h4>\r\n          {order.items && order.items.map((item, index) => (\r\n            <div key={index} className=\"order-item\">\r\n              <div className=\"item-info\">\r\n                <span className=\"item-image\">{item.image || '🍊'}</span>\r\n                <div>\r\n                  <strong>{item.name || 'Fresh Juice'}</strong>\r\n                  <p>Quantity: {item.quantity || 1}</p>\r\n                </div>\r\n              </div>\r\n              <span className=\"item-price\">₹{((item.price || 0) * (item.quantity || 1)).toFixed(2)}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        <div className=\"order-total\">\r\n          <strong>Total: ₹{order.total?.toFixed(2) || '0.00'}</strong>\r\n        </div>\r\n        \r\n        <div className=\"delivery-info\">\r\n          <h4>Delivery Information:</h4>\r\n          <div className=\"info-item\">\r\n            <span>📦 Delivery Address:</span>\r\n            <span>{order.address || user.address || 'Address not specified'}</span>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <span>👤 Customer:</span>\r\n            <span>{user.name}</span>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <span>📞 Contact:</span>\r\n            <span>{user.phone || 'Not provided'}</span>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <span>⏰ Ordered at:</span>\r\n            <span>{new Date(order.createdAt).toLocaleString()}</span>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <span>💳 Payment Method:</span>\r\n            <span>{order.paymentMethod || 'Card'}</span>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <span>⏱️ Time Elapsed:</span>\r\n            <span>{timeElapsed} minutes</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"track-order-actions\">\r\n        <button \r\n          className=\"btn-primary\"\r\n          onClick={() => navigate('/menu')}\r\n        >\r\n          Order More Juices\r\n        </button>\r\n        <button \r\n          className=\"btn-secondary\"\r\n          onClick={() => navigate('/history')}\r\n        >\r\n          View Order History\r\n        </button>\r\n        <button \r\n          className=\"btn-secondary\"\r\n          onClick={clearCurrentOrder}\r\n        >\r\n          Clear This Order\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrackOrder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}