{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import'./CartPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CartPage=_ref=>{let{cartItems,onUpdateQuantity,onRemoveItem,user,onAuthRequired}=_ref;const navigate=useNavigate();const total=cartItems.reduce((sum,item)=>sum+item.price*item.quantity,0);const deliveryFee=29;// ‚Çπ29 delivery fee\nconst tax=total*0.05;// 5% tax\nconst finalTotal=total+deliveryFee+tax;const handleCheckout=()=>{if(!user){onAuthRequired();return;}navigate('/payment',{state:{cartItems,subtotal:total,deliveryFee,tax,finalTotal}});};return/*#__PURE__*/_jsx(\"div\",{className:\"cart-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Review your order and proceed to checkout\"})]}),!user&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-required-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-warning\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"warning-icon\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Login Required\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please login to proceed with your order\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:onAuthRequired,children:\"Login / Sign Up\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-content\",children:cartItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"cart-empty\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Your cart is empty\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Add some fresh juices to get started!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:()=>navigate('/menu'),children:\"Browse Menu\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"cart-with-items\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-items-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-items-header\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Order Items (\",cartItems.length,\")\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-items\",children:cartItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-image\",children:item.image}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-price\",children:[\"\\u20B9\",item.price]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onUpdateQuantity(item.id,item.quantity-1),disabled:item.quantity<=1,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onUpdateQuantity(item.id,item.quantity+1),children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-total\",children:[\"\\u20B9\",(item.price*item.quantity).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-btn\",onClick:()=>onRemoveItem(item.id),title:\"Remove item\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]},item.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-summary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",total.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Delivery Fee:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",deliveryFee]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Tax (5%):\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",tax.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",finalTotal.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"checkout-btn \".concat(!user?'disabled':''),onClick:handleCheckout,disabled:!user,children:user?'Proceed to Payment':'Login to Checkout'}),!user&&/*#__PURE__*/_jsx(\"p\",{className:\"login-prompt\",children:\"Please login to complete your order\"})]})})]})})]})});};export default CartPage;","map":{"version":3,"names":["React","useNavigate","jsx","_jsx","jsxs","_jsxs","CartPage","_ref","cartItems","onUpdateQuantity","onRemoveItem","user","onAuthRequired","navigate","total","reduce","sum","item","price","quantity","deliveryFee","tax","finalTotal","handleCheckout","state","subtotal","className","children","onClick","length","map","image","name","id","disabled","toFixed","title","concat"],"sources":["D:/SEM V/Intenship Project/fresh-juice-app/frontend/src/pages/CartPage.js"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './CartPage.css';\r\n\r\nconst CartPage = ({ cartItems, onUpdateQuantity, onRemoveItem, user, onAuthRequired }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const total = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n  const deliveryFee = 29; // ‚Çπ29 delivery fee\r\n  const tax = total * 0.05; // 5% tax\r\n  const finalTotal = total + deliveryFee + tax;\r\n\r\n  const handleCheckout = () => {\r\n    if (!user) {\r\n      onAuthRequired();\r\n      return;\r\n    }\r\n    navigate('/payment', { \r\n      state: { \r\n        cartItems, \r\n        subtotal: total,\r\n        deliveryFee,\r\n        tax,\r\n        finalTotal\r\n      } \r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"cart-page\">\r\n      <div className=\"container\">\r\n        <div className=\"page-header\">\r\n          <h1>Shopping Cart</h1>\r\n          <p>Review your order and proceed to checkout</p>\r\n        </div>\r\n\r\n        {!user && (\r\n          <div className=\"auth-required-card\">\r\n            <div className=\"auth-warning\">\r\n              <div className=\"warning-icon\">üîí</div>\r\n              <h3>Login Required</h3>\r\n              <p>Please login to proceed with your order</p>\r\n              <button \r\n                className=\"btn-primary\"\r\n                onClick={onAuthRequired}\r\n              >\r\n                Login / Sign Up\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"cart-content\">\r\n          {cartItems.length === 0 ? (\r\n            <div className=\"cart-empty\">\r\n              <div className=\"empty-icon\">üõí</div>\r\n              <h2>Your cart is empty</h2>\r\n              <p>Add some fresh juices to get started!</p>\r\n              <button \r\n                className=\"btn-primary\"\r\n                onClick={() => navigate('/menu')}\r\n              >\r\n                Browse Menu\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"cart-with-items\">\r\n              <div className=\"cart-items-section\">\r\n                <div className=\"cart-items-header\">\r\n                  <h2>Order Items ({cartItems.length})</h2>\r\n                </div>\r\n                <div className=\"cart-items\">\r\n                  {cartItems.map(item => (\r\n                    <div key={item.id} className=\"cart-item\">\r\n                      <div className=\"item-info\">\r\n                        <div className=\"item-image\">{item.image}</div>\r\n                        <div className=\"item-details\">\r\n                          <h4>{item.name}</h4>\r\n                          <p className=\"item-price\">‚Çπ{item.price}</p>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"quantity-controls\">\r\n                        <button \r\n                          onClick={() => onUpdateQuantity(item.id, item.quantity - 1)}\r\n                          disabled={item.quantity <= 1}\r\n                        >\r\n                          -\r\n                        </button>\r\n                        <span>{item.quantity}</span>\r\n                        <button \r\n                          onClick={() => onUpdateQuantity(item.id, item.quantity + 1)}\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </div>\r\n                      \r\n                      <div className=\"item-total\">\r\n                        ‚Çπ{(item.price * item.quantity).toFixed(2)}\r\n                      </div>\r\n                      \r\n                      <button \r\n                        className=\"remove-btn\"\r\n                        onClick={() => onRemoveItem(item.id)}\r\n                        title=\"Remove item\"\r\n                      >\r\n                        üóëÔ∏è\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"cart-summary\">\r\n                <div className=\"summary-card\">\r\n                  <h3>Order Summary</h3>\r\n                  \r\n                  <div className=\"summary-row\">\r\n                    <span>Subtotal:</span>\r\n                    <span>‚Çπ{total.toFixed(2)}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"summary-row\">\r\n                    <span>Delivery Fee:</span>\r\n                    <span>‚Çπ{deliveryFee}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"summary-row\">\r\n                    <span>Tax (5%):</span>\r\n                    <span>‚Çπ{tax.toFixed(2)}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"summary-divider\"></div>\r\n                  \r\n                  <div className=\"summary-row total\">\r\n                    <span>Total:</span>\r\n                    <span>‚Çπ{finalTotal.toFixed(2)}</span>\r\n                  </div>\r\n\r\n                  <button \r\n                    className={`checkout-btn ${!user ? 'disabled' : ''}`}\r\n                    onClick={handleCheckout}\r\n                    disabled={!user}\r\n                  >\r\n                    {user ? 'Proceed to Payment' : 'Login to Checkout'}\r\n                  </button>\r\n                  \r\n                  {!user && (\r\n                    <p className=\"login-prompt\">\r\n                      Please login to complete your order\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}